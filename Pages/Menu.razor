@page "/menu"


@inject NavigationManager NavigationManager
@inject RecipeService RecipeService

<!-- Add CSS and Bootstrap Links -->
<link rel="stylesheet" href="css/menu.css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-4">
    <div class="text-center">
        <h1 class="menu-header">Menu</h1>
    </div>
   
    <!-- Category Section -->
    <CategoryMenu />

    <hr />

    <!-- Menu Sections for each Category -->
    <h3 class="titles">BreakFast</h3>
    <MenuSection TItem="Recipe"  Items="breakfastItems" />
    <h3 class="titles">Lunch</h3>
    <MenuSection TItem="Recipe"  Items="lunchItems" />
    <h3 class="titles">Dinner</h3>
    <MenuSection TItem="Recipe"  Items="dinnerItems" />
    <h3 class="titles">Dessert</h3>
    <MenuSection TItem="Recipe"  Items="dessertItems" />
    <h3 class="titles">Ice Cream</h3>
    <MenuSection TItem="Recipe"  Items="iceCreamItems" />
</div>

@code {
    private List<Recipe> breakfastItems = new List<Recipe>();
    private List<Recipe> lunchItems = new List<Recipe>();
    private List<Recipe> dinnerItems = new List<Recipe>();
    private List<Recipe> dessertItems = new List<Recipe>();
    private List<Recipe> iceCreamItems = new List<Recipe>();

    protected override void OnInitialized()
    {
        // Fetch recipes for each category during component initialization
        breakfastItems = RecipeService.GetRecipesByCategory("BreakFast");
        lunchItems = RecipeService.GetRecipesByCategory("Lunch");
        dinnerItems = RecipeService.GetRecipesByCategory("Dinner");
        dessertItems = RecipeService.GetRecipesByCategory("Dessert");
        iceCreamItems = RecipeService.GetRecipesByCategory("Ice Cream");
    }
}
